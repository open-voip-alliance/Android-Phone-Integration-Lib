# Check out https://docs.codemagic.io/getting-started/building-a-native-android-app/ for more information

workflows:
    android-phone-integration-lib:
        name: Android Phone Integration Lib
        environment:
            vars:
                ANDROID_FIREBASE_SECRET: Encrypted(Z0FBQUFBQmdkdlVLQUJSTWwzZFpISC1Ha09VY0ctWVlWb29KZ29JV1JQUGFzX2pROXFPc0JoQ013LTRyMVlObHRSN0VJcF9JaW14UFpIVUpHRGtWeGJJcWRKcGRIbl9JTXVzR0hQWDM1Znl0eGhnU2RSY1A1M1JMS3hZekIwVWVBM2RqMDZjMWR2a01kSTR2enQ4WU9QU29vSndhVFllUUJ6TU5RS2p1UjlCbHM4TFB3WXV6eElsVUE0NGR6Sm04bTkzWFQwNWFZWEdaYVVPaHkyc1YxMTJYanhEUmhpaWljdWx1UWdvbDhoMTY4WFJZQ2p6YVAxSWQ2a05ORkpXRmxkWWhnVnZta0piUEZKTk9KcGdJeXh6RlpwRW1paEVaMGs2SUZBM2VxVW9TNG81WlVaV0VMbEUzbVNvZ0ZpTWxaelhocjdKdXBOeXkzYTZnR2N2dW5ETHlsUkpVZmRmUnBNQVVQS0Q5bHRScm9TR05WVnhKdU9sMmZZMW1LdXo2OXNQQnVHVDk1LW43U1JRVVhpV0FIc1FiaDRPMWExYUFnWkY5NC1RSXFvQ05pY2dpOGQzMXJ0aDJjdlk4M2tlWHNCdWl1NVB1aG5JZ1FmcThMSExNYTNCU2ljdEkwY3ZaSDgzbi1CUk0zUFl0RXdvV1BHeXZBLXozVDh3d2hvcmYwbi1ZYjNYdXpQMUZhNDRsRVZTbEpoNHRaMmQxajQxZi1JUjQ4QzRKSUt1STRLY0JBNEd5NVVSN05MYkt5YUUwV0VaRzBkZk0tX2Q5M2ZNbUlMZUJEbGN2TlRzLVVhWldlYmtxeElFNTliQWdHR2hfQ1Q4SF9TcGNnb2xSbUxDX3R5MUMwMjNNYnRpMWFoenFtaUlzSFoyemJ4TWpNTVFVb2hNNVkzNWtkVEs3clVVX1F6cXQ3X0RMSFRYNjY3QjZ0UHBuaTBseE1CT2RSenhoWjhsUXVFSFoyQnJDQTJlNWNLVm9Hek90bDRiZDlnRENBOXREcksyTHg5QklmdFRqdHlvY1VLb09yM1dIM3J2bXh0eEt3YXhqU3g4QkppUkRoc3ZHU3FWeGhXNkNnMlkzYmZoakRBa3oyNmlueVQtcF9PX1ctZlBHeGt0eFlUSWpjLWZQdk9neW9FTjBqamNzeUkyTGp2bGxHclJrcER5d1gyYUhFSGZFbUtZQmlUcUdqekl5LW1MVHVDN0pwUEZrRVZuZEloTE9GWlY3Nmd6VVNwcHBoUmpsbDhRdjhSU0l4SHF3VTgtaUxiRTdVQmhOLS1iOFhTeWFSQ2hKUHFGdktVZ1l2LXlENUttMHFuU1pXakZGUEFOZ2tueVBYYzlQSjNYa2NyVFJJZlBXZHBjRXcycWp2c2xTSjZMM3NybTVzNVV1c2ZpcjU0U0xIY1Q2azdWNHcyaExaVkRFUkhMTEhsd0hKVThtNFY1cFJRNE4yc0lJV2JlUVl1LW10UFBXUDdHdV9kYTNYcEk2X21PV2V3QVh4Tk1vYWd5aXN4TGprV3I2YXZEZ0xBM0ozMTJibk1IVktBbWFONllGdzRlZE9wMHBmTjNNZExyS0N3Rm56cnVmOFJONnhRdm5aNFBIbW05cTlRVE01QkQzZktMUE13U3JHVTlXa0trWk1ETU9MbmtVZHhFVEdZZHFiZ1l3NEdXb2ZnSmppT3RCdF93YlNTTnRuNloxSThPYWdVRXRFRnBUQW5pcm90LUdLcVhLQUY2aENYdjRhWkdaWFBwWUJGNlNpeFllZG9zZTlrUHZWdlBzV09MWWRKQXdPdVhCcExKLVJwcHlpYkNRNlg1bnJDTGp1ZkxmMm5zU3FkdTg2dGlXQVdFN3lkd29NbnE2d1ZfNURiWFJfbk5PSE90Wkg4b3JySlRBNkRhX0ZicHZ4MGh0YkczV2hvUEJiM0szUmpMb3lGeHhNWmQ4RTQtVlJrdFd2bXUyS1ZWSW54SFB4WXJVWnNXU0hTbUpLQ2NSams1NFI4bWVBRU5TcWl2Yk9ja3NfLVNxbEhmT3hFVUk3cG1WTk0yYUphUDF0RU9LVUo2SVhOdXp1MkFDQXV0VC12MW5JX0hOWXMtYnRLc19YUlQ5ajQwNjdCVEhUUjdEcUh6YlVtakg2ZGU0VTBuVG4wdW81RDdaak4zeHcxMnh1cksxeHd1QVA5UXVvc2lLNEk3UkhudUpJaExpcHB3SXV3TWprMmxUWk9LS2k1ZmRkN19jY1VwWFYyOXdVdjNMZFZxSW1XTHB5TUx4c2h2aW9Ua2VaN0pERml2SjFGaFhwSEJaM0dtdVhHN01UYjF3ZEhpQlQwTkRDcjBSSnFlLUdtbFF4a2xaVDFNN19NalhibFEyeGdNcFlXeGZ3c05WSlAwQ0tPczJLOTJMcHBaekhEc28zX1U1Q2VPQlZIbW1oTFE2MmU1clFPRkc4bmRGNWlNUlZRaDVIRUdhNnFyc1ZzRlQxak05c3NFMTV4aFBSMnNnRXlNNFJ1VUtpNWI3Wk9wQnhUT05GTGdFakdFQm44ZFFuNUJWcW50Nlhra01WVkFZdVJmdzdHUjlicEt4WVRIYThjd0tyNFZleUR6MmJaOEZtQWZFUktsbC1Mc0FFUT09)
        scripts:
            - name: Setup Firebase
              script: echo $ANDROID_FIREBASE_SECRET | base64 --decode > $FCI_BUILD_DIR/app/google-services.json
            - name: Build Demo app and library file
              script: ./gradlew assembleDebug
        artifacts:
            - app/build/outputs/**/*.apk
            - app/build/outputs/**/*.aar